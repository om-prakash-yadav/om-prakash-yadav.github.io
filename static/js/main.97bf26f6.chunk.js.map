{"version":3,"sources":["hooks/useRoom.ts","hooks/useUser.ts","hooks/useCreateRoom.ts","hooks/useParams.ts","hooks/useGuest.ts","hooks/useGuestList.ts","hooks/useIsHost.ts","hooks/useUpdateGuest.ts","ui/App.tsx","ui/Home.tsx","ui/Host.tsx","hooks/useClearBuzzers.ts","ui/Join.tsx","hooks/useBuzz.ts","ui/GuestList.tsx","index.tsx"],"names":["useRoom","firestore","useFirestore","roomId","useParams","ref","doc","useFirestoreDocData","idField","data","useUser","auth","useAuth","useQuery","signInAnonymously","user","createRoom","hostId","randomId","roomRef","getDoc","exists","setDoc","timestamp","serverTimestamp","Math","random","toString","substr","params","URLSearchParams","window","location","search","Object","fromEntries","useGuest","id","guestRef","uid","guest","name","randomMoniker","buzzed","score","enabled","anim","animals","length","useGuestList","guestListRef","collection","useFirestoreCollectionData","useIsHost","useUpdateGuest","guestId","useMutation","updated","updateDoc","App","app","useFirebaseApp","getFirestore","getAuth","sdk","client","queryClient","bg","maxW","p","fallback","Home","Room","isHost","useEffect","document","title","Host","Join","Placeholder","h","innerHeight","isIndeterminate","color","QueryClient","defaultOptions","queries","suspense","useCreateRoom","mutate","newRoom","direction","px","shadow","as","AiOutlineGlobal","w","size","m","spacing","rounded","border","borderColor","align","isRequired","variant","placeholder","colorScheme","type","value","onClick","fontSize","sound","Audio","href","origin","pathname","Actions","GuestList","status","flexDirection","alignItems","justifyContent","boxSize","mt","mb","guestList","clearBuzzers","guests","useFirestoreCollection","batch","writeBatch","docs","map","update","commit","useClearBuzzers","shouldPlaySound","filter","play","py","disabled","every","useBuzz","buzz","EditName","borderRadius","isDisabled","useDisclosure","isOpen","onOpen","onClose","initialRef","useRef","updateGuest","confirmEdit","e","preventDefault","FormData","target","get","rightIcon","AiFillEdit","initialFocusRef","onSubmit","defaultValue","spring","stiffness","damping","AnimateSharedLayout","columns","overflowX","GuestWhoBuzzedList","GuestWhoDidNotBuzzList","items","sort","a","b","toMillis","width","idx","motion","div","layoutId","transition","EditScore","AiOutlinePlusCircle","rootElement","getElementById","Error","ReactDOM","createRoot","render","StrictMode","firebaseConfig","apiKey","authDomain","projectId","storageBucket","messagingSenderId","appId","measurementId"],"mappings":"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","file":"static/js/main.97bf26f6.chunk.js","sourcesContent":["import { doc } from \"firebase/firestore\";\r\nimport { useFirestore, useFirestoreDocData } from \"reactfire\";\r\nimport { useParams } from \".\";\r\n\r\ntype Room = {\r\n  id: string;\r\n  hostId: string;\r\n};\r\n\r\nexport default function useRoom() {\r\n  const firestore = useFirestore();\r\n  const { roomId } = useParams();\r\n  const ref = doc(firestore, \"rooms\", roomId);\r\n  const { data: room } = useFirestoreDocData(ref, { idField: \"id\" });\r\n  return room as Room;\r\n}\r\n","import { useAuth } from \"reactfire\";\r\nimport { signInAnonymously } from \"@firebase/auth\";\r\nimport { useQuery } from \"react-query\";\r\n\r\nexport default function useUser() {\r\n  const auth = useAuth();\r\n  const { data: credentials } = useQuery(\"user\", () => signInAnonymously(auth));\r\n  return credentials!.user;\r\n}\r\n","import {\r\n  doc,\r\n  getDoc,\r\n  setDoc,\r\n  Firestore,\r\n  serverTimestamp,\r\n} from \"firebase/firestore\";\r\nimport { useMutation } from \"react-query\";\r\nimport { useFirestore } from \"reactfire\";\r\nimport { useUser } from \".\";\r\n\r\nexport default function useCreateRoom() {\r\n  const firestore = useFirestore();\r\n  const user = useUser();\r\n  const mutation = useMutation(() => createRoom(firestore, user.uid));\r\n  return mutation;\r\n}\r\n\r\nconst createRoom = async (\r\n  firestore: Firestore,\r\n  hostId: string\r\n): Promise<string> => {\r\n  const roomId = randomId();\r\n  const roomRef = doc(firestore, \"rooms\", roomId);\r\n  const room = await getDoc(roomRef);\r\n  if (room.exists()) {\r\n    return createRoom(firestore, hostId);\r\n  }\r\n  await setDoc(roomRef, { hostId, timestamp: serverTimestamp() });\r\n\r\n  return roomId;\r\n};\r\n\r\nconst randomId = () => Math.random().toString().substr(2, 6);\r\n","export default function useParams() {\r\n  const params = new URLSearchParams(window.location.search);\r\n  return Object.fromEntries(params);\r\n}\r\n","import { doc, setDoc, Timestamp } from \"firebase/firestore\";\r\nimport { useQuery } from \"react-query\";\r\nimport { useFirestore, useFirestoreDocData } from \"reactfire\";\r\nimport { useRoom, useUser } from \".\";\r\n\r\ntype Guest = {\r\n  id: string;\r\n  name: string;\r\n  buzzed: Timestamp | null;\r\n  score: number;\r\n};\r\n\r\nexport default function useGuest() {\r\n  const user = useUser();\r\n  const { id: roomId } = useRoom();\r\n  const firestore = useFirestore();\r\n  const guestRef = doc(firestore, \"rooms\", roomId, \"guests\", user.uid);\r\n  const { data: guest } = useFirestoreDocData(guestRef, { idField: \"id\" });\r\n  const exists = !!guest?.name;\r\n  useQuery(\r\n    \"guest\",\r\n    () => setDoc(guestRef, { name: randomMoniker(), buzzed: null, score: 0 }),\r\n    { enabled: !exists }\r\n  );\r\n  return guest as Guest;\r\n}\r\n\r\nfunction randomMoniker() {\r\n  const anim = animals[(animals.length * Math.random()) | 0];\r\n  return `Guest ${anim}`;\r\n}\r\n\r\nconst animals = [\r\n  \"Alligator\",\r\n  \"Anteater\",\r\n  \"Armadillo\",\r\n  \"Auroch\",\r\n  \"Axolotl\",\r\n  \"Badger\",\r\n  \"Bat\",\r\n  \"Bear\",\r\n  \"Beaver\",\r\n  \"Blobfish\",\r\n  \"Buffalo\",\r\n  \"Camel\",\r\n  \"Chameleon\",\r\n  \"Cheetah\",\r\n  \"Chinchilla\",\r\n  \"Chipmunk\",\r\n  \"Chupacabra\",\r\n  \"Cormorant\",\r\n  \"Coyote\",\r\n  \"Crow\",\r\n  \"Dingo\",\r\n  \"Dinosaur\",\r\n  \"Dog\",\r\n  \"Dolphin\",\r\n  \"Dragon\",\r\n  \"Duck\",\r\n  \"Elephant\",\r\n  \"Ferret\",\r\n  \"Fox\",\r\n  \"Frog\",\r\n  \"Giraffe\",\r\n  \"Goose\",\r\n  \"Gopher\",\r\n  \"Grizzly\",\r\n  \"Hamster\",\r\n  \"Hedgehog\",\r\n  \"Hippo\",\r\n  \"Hyena\",\r\n  \"Ibex\",\r\n  \"Ifrit\",\r\n  \"Iguana\",\r\n  \"Jackal\",\r\n  \"Jackalope\",\r\n  \"Kangaroo\",\r\n  \"Kiwi\",\r\n  \"Koala\",\r\n  \"Kraken\",\r\n  \"Lemur\",\r\n  \"Leopard\",\r\n  \"Liger\",\r\n  \"Lion\",\r\n  \"Llama\",\r\n  \"Manatee\",\r\n  \"Mink\",\r\n  \"Monkey\",\r\n  \"Moose\",\r\n  \"Narwhal\",\r\n  \"Octopus\",\r\n  \"Orangutan\",\r\n  \"Otter\",\r\n  \"Panda\",\r\n  \"Penguin\",\r\n  \"Platypus\",\r\n  \"Python\",\r\n  \"Quagga\",\r\n  \"Quokka\",\r\n  \"Rabbit\",\r\n  \"Raccoon\",\r\n  \"Rhino\",\r\n  \"Sheep\",\r\n  \"Shrew\",\r\n  \"Skunk\",\r\n  \"Squirrel\",\r\n  \"Tiger\",\r\n  \"Turtle\",\r\n  \"Unicorn\",\r\n  \"Walrus\",\r\n  \"Wolf\",\r\n  \"Wolverine\",\r\n  \"Wombat\",\r\n];\r\n","import { collection, Timestamp } from \"firebase/firestore\";\r\nimport { useFirestore, useFirestoreCollectionData } from \"reactfire\";\r\nimport useRoom from \"./useRoom\";\r\n\r\ntype Guest = {\r\n  id: string;\r\n  name: string;\r\n  buzzed: Timestamp | null;\r\n  score: number;\r\n};\r\n\r\nexport default function useGuestList() {\r\n  const { id: roomId } = useRoom();\r\n  const firestore = useFirestore();\r\n  const guestListRef = collection(firestore, \"rooms\", roomId, \"guests\");\r\n  const { data: guestList } = useFirestoreCollectionData(guestListRef, {\r\n    idField: \"id\",\r\n  });\r\n\r\n  return guestList as Guest[];\r\n}\r\n","import useRoom from \"./useRoom\";\r\nimport useUser from \"./useUser\";\r\n\r\nexport default function useIsHost() {\r\n  const { hostId } = useRoom();\r\n  const user = useUser();\r\n  return hostId === user.uid;\r\n}\r\n","import { doc, UpdateData, updateDoc } from \"firebase/firestore\";\r\nimport { useMutation } from \"react-query\";\r\nimport { useFirestore } from \"reactfire\";\r\nimport useRoom from \"./useRoom\";\r\n\r\nexport default function useUpdateGuest(guestId: string) {\r\n  const { id: roomId } = useRoom();\r\n  const firestore = useFirestore();\r\n  const guestRef = doc(firestore, \"rooms\", roomId, \"guests\", guestId);\r\n  return useMutation((updated: UpdateData) => updateDoc(guestRef, updated));\r\n}\r\n","import React, { Suspense } from \"react\";\r\nimport { getAuth } from \"firebase/auth\";\r\nimport { getFirestore } from \"firebase/firestore\";\r\nimport { AuthProvider, FirestoreProvider, useFirebaseApp } from \"reactfire\";\r\nimport {\r\n  Box,\r\n  Center,\r\n  ChakraProvider,\r\n  CircularProgress,\r\n  Container,\r\n} from \"@chakra-ui/react\";\r\nimport { QueryClient, QueryClientProvider } from \"react-query\";\r\nimport { Home, Host, Join } from \".\";\r\nimport { useParams, useIsHost, useRoom } from \"../hooks\";\r\nimport { useEffect } from \"react\";\r\n\r\nexport default function App() {\r\n  const app = useFirebaseApp();\r\n  const firestore = getFirestore(app);\r\n  const auth = getAuth(app);\r\n  const { roomId } = useParams();\r\n\r\n  return (\r\n    <AuthProvider sdk={auth}>\r\n      <FirestoreProvider sdk={firestore}>\r\n        <QueryClientProvider client={queryClient}>\r\n          <ChakraProvider>\r\n            <Box bg=\"gray.200\">\r\n              <Container maxW=\"xl\" p={0} bg=\"white\">\r\n                <Suspense fallback={<Placeholder />}>\r\n                  {roomId ? <Room /> : <Home />}\r\n                </Suspense>\r\n              </Container>\r\n            </Box>\r\n          </ChakraProvider>\r\n        </QueryClientProvider>\r\n      </FirestoreProvider>\r\n    </AuthProvider>\r\n  );\r\n}\r\n\r\nconst Room = () => {\r\n  const isHost = useIsHost();\r\n  const { id: roomId } = useRoom();\r\n  useEffect(() => {\r\n    document.title = `Firebuzz room: ${roomId}`;\r\n  }, [roomId]);\r\n  return isHost ? <Host /> : <Join />;\r\n};\r\n\r\nconst Placeholder = () => {\r\n  return (\r\n    <Center h={window.innerHeight}>\r\n      <CircularProgress isIndeterminate color=\"teal.500\" />\r\n    </Center>\r\n  );\r\n};\r\n\r\nconst queryClient = new QueryClient({\r\n  defaultOptions: { queries: { suspense: true } },\r\n});\r\n","import {\r\n  Flex,\r\n  Box,\r\n  Heading,\r\n  Button,\r\n  Text,\r\n  VStack,\r\n  Input,\r\n  Spacer,\r\n  FormControl,\r\n  HStack,\r\n  Icon,\r\n} from \"@chakra-ui/react\";\r\nimport { AiOutlineGlobal } from \"react-icons/ai\";\r\nimport React, { useEffect } from \"react\";\r\nimport { useCreateRoom } from \"../hooks\";\r\n\r\nexport default function Home() {\r\n  const { mutate: createRoom, data: newRoom } = useCreateRoom();\r\n\r\n  useEffect(() => {\r\n    if (newRoom) {\r\n      document.location.search = `?roomId=${newRoom}`;\r\n    }\r\n  }, [newRoom]);\r\n\r\n  return (\r\n    <Flex direction=\"column\" h={window.innerHeight}>\r\n      <HStack px={5} h=\"58px\" bg=\"teal.500\" shadow=\"base\">\r\n        <Icon as={AiOutlineGlobal} w=\"30px\" h=\"30px\" color=\"white\" />\r\n        <Heading color=\"white\" size=\"md\">\r\n          ISTE NIT Durgapur\r\n        </Heading>\r\n      </HStack>\r\n      <Box m={8} />\r\n      <VStack spacing=\"48px\">\r\n        <Box\r\n          rounded=\"md\"\r\n          w={[300, 400]}\r\n          p={2}\r\n          shadow=\"md\"\r\n          border=\"1px\"\r\n          borderColor=\"gainsboro\"\r\n        >\r\n          <form>\r\n            <VStack p={4} align=\"start\" spacing={8}>\r\n              <Heading size=\"sm\">Join a game</Heading>\r\n              <Flex w=\"258px\" align=\"center\">\r\n                <FormControl isRequired>\r\n                  <Input\r\n                    name=\"roomId\"\r\n                    variant=\"flushed\"\r\n                    placeholder=\"Room number\"\r\n                    maxW=\"40\"\r\n                  />\r\n                </FormControl>\r\n                <Spacer />\r\n                <Button variant=\"outline\" colorScheme=\"teal\" type=\"submit\">\r\n                  Join\r\n                </Button>\r\n              </Flex>\r\n            </VStack>\r\n          </form>\r\n        </Box>\r\n        <Box\r\n          rounded=\"md\"\r\n          w={[300, 400]}\r\n          p={2}\r\n          shadow=\"md\"\r\n          border=\"1px\"\r\n          borderColor=\"gainsboro\"\r\n        >\r\n          <VStack p={4} align=\"start\" spacing={8}>\r\n            <Heading size=\"sm\">Host a game</Heading>\r\n            <Flex w=\"258px\" align=\"center\">\r\n              <Text>Create a new room</Text>\r\n              <Input name=\"roomId\" type=\"hidden\" value=\"\" />\r\n              <Spacer />\r\n              <Button\r\n                variant=\"outline\"\r\n                colorScheme=\"teal\"\r\n                onClick={() => createRoom()}\r\n              >\r\n                Host\r\n              </Button>\r\n            </Flex>\r\n          </VStack>\r\n        </Box>\r\n\r\n        <Box\r\n          rounded=\"md\"\r\n          w={[300, 400]}\r\n          p={4}\r\n          shadow=\"md\"\r\n          border=\"1px\"\r\n          borderColor=\"gainsboro\"\r\n        >\r\n          <Text fontSize=\"sm\" colorScheme=\"gray\">\r\n            💡 Tip: you can re-join the same room again without losing your\r\n            progress\r\n          </Text>\r\n        </Box>\r\n      </VStack>\r\n    </Flex>\r\n  );\r\n}\r\n","import {\r\n  Alert,\r\n  AlertDescription,\r\n  AlertIcon,\r\n  AlertTitle,\r\n  Box,\r\n  Button,\r\n  Center,\r\n  CloseButton,\r\n  Flex,\r\n  Heading,\r\n  HStack,\r\n  Text,\r\n} from \"@chakra-ui/react\";\r\nimport React from \"react\";\r\nimport { useRoom, useClearBuzzers, useGuestList } from \"../hooks\";\r\nimport { GuestList } from \".\";\r\nimport { useEffect } from \"react\";\r\n\r\nconst sound = new Audio(\"/audio/buzz.mp3\");\r\n\r\nexport default function Host() {\r\n  const { id: roomId, hostId } = useRoom();\r\n\r\n  return (\r\n    <Flex direction=\"column\" h={window.innerHeight}>\r\n      <HStack px={5} h=\"58px\" bg=\"teal.500\" shadow=\"base\">\r\n        <CloseButton\r\n          color=\"white\"\r\n          size=\"lg\"\r\n          onClick={() => {\r\n            window.location.href =\r\n              window.location.origin + window.location.pathname;\r\n          }}\r\n        />\r\n        <Heading color=\"white\" size=\"md\">\r\n          Room number: {roomId}\r\n        </Heading>\r\n      </HStack>\r\n      {!hostId ? (\r\n        <>\r\n          <Alert\r\n            status=\"error\"\r\n            flexDirection=\"column\"\r\n            alignItems=\"center\"\r\n            justifyContent=\"center\"\r\n          >\r\n            <AlertIcon boxSize=\"40px\" />\r\n            <AlertTitle mt={4} mb={1} fontSize=\"lg\">\r\n              This room number is no longer vailable\r\n            </AlertTitle>\r\n            <AlertDescription>\r\n              Try navigating back and create a new one\r\n            </AlertDescription>\r\n          </Alert>\r\n        </>\r\n      ) : (\r\n        <>\r\n          <Actions />\r\n          <Box m={6} />\r\n          <GuestList />\r\n        </>\r\n      )}\r\n    </Flex>\r\n  );\r\n}\r\n\r\nfunction Actions() {\r\n  const guestList = useGuestList();\r\n  const { mutate: clearBuzzers } = useClearBuzzers();\r\n  const shouldPlaySound =\r\n    guestList.filter(({ buzzed }) => !!buzzed).length === 1;\r\n\r\n  useEffect(() => {\r\n    if (shouldPlaySound) {\r\n      sound.play();\r\n    }\r\n  }, [shouldPlaySound]);\r\n\r\n  return (\r\n    <>\r\n      <HStack px={4} py={1} spacing=\"-5px\">\r\n        <Text color=\"pink.500\" p={2}>\r\n          You are the host\r\n        </Text>\r\n      </HStack>\r\n      <Box m={4} />\r\n      <Center>\r\n        <Button\r\n          colorScheme=\"pink\"\r\n          disabled={guestList.every(({ buzzed }) => !buzzed)}\r\n          onClick={() => clearBuzzers()}\r\n        >\r\n          Clear Buzzers\r\n        </Button>\r\n      </Center>\r\n    </>\r\n  );\r\n}\r\n","import { collection, writeBatch } from \"firebase/firestore\";\r\nimport { useMutation } from \"react-query\";\r\nimport { useFirestore, useFirestoreCollection } from \"reactfire\";\r\nimport useRoom from \"./useRoom\";\r\n\r\nexport default function useClearBuzzers() {\r\n  const { id: roomId } = useRoom();\r\n  const firestore = useFirestore();\r\n  const guestListRef = collection(firestore, \"rooms\", roomId, \"guests\");\r\n  const { data: guests } = useFirestoreCollection(guestListRef);\r\n\r\n  return useMutation(() => {\r\n    const batch = writeBatch(firestore);\r\n    guests.docs.map((guest) => batch.update(guest.ref, { buzzed: null }));\r\n    return batch.commit();\r\n  });\r\n}\r\n","import { AiFillEdit } from \"react-icons/ai\";\r\nimport {\r\n  Alert,\r\n  AlertDescription,\r\n  AlertIcon,\r\n  AlertTitle,\r\n  Box,\r\n  Button,\r\n  Center,\r\n  CloseButton,\r\n  Flex,\r\n  FormControl,\r\n  FormLabel,\r\n  Heading,\r\n  HStack,\r\n  Icon,\r\n  Input,\r\n  Modal,\r\n  ModalBody,\r\n  ModalCloseButton,\r\n  ModalContent,\r\n  ModalFooter,\r\n  ModalHeader,\r\n  ModalOverlay,\r\n  useDisclosure,\r\n} from \"@chakra-ui/react\";\r\nimport React, { useRef } from \"react\";\r\nimport { useBuzz, useGuest, useRoom, useUpdateGuest } from \"../hooks\";\r\nimport { GuestList } from \".\";\r\n\r\nconst sound = new Audio(\"/audio/buzz.mp3\");\r\n\r\nexport default function Join() {\r\n  const { id: roomId, hostId } = useRoom();\r\n\r\n  return (\r\n    <Flex direction=\"column\" h={window.innerHeight}>\r\n      <HStack px={5} h=\"58px\" bg=\"teal.500\" shadow=\"base\">\r\n        <CloseButton\r\n          color=\"white\"\r\n          size=\"lg\"\r\n          onClick={() => {\r\n            window.location.href =\r\n              window.location.origin + window.location.pathname;\r\n          }}\r\n        />\r\n        <Heading color=\"white\" size=\"md\">\r\n          Room number: {roomId}\r\n        </Heading>\r\n      </HStack>\r\n      {!hostId ? (\r\n        <>\r\n          <Alert\r\n            status=\"error\"\r\n            flexDirection=\"column\"\r\n            alignItems=\"center\"\r\n            justifyContent=\"center\"\r\n          >\r\n            <AlertIcon boxSize=\"40px\" />\r\n            <AlertTitle mt={4} mb={1} fontSize=\"lg\">\r\n              This room number does not exist\r\n            </AlertTitle>\r\n            <AlertDescription>\r\n              Try navigating back and use a different one\r\n            </AlertDescription>\r\n          </Alert>\r\n        </>\r\n      ) : (\r\n        <>\r\n          <Actions />\r\n          <Box m={6} />\r\n          <GuestList />\r\n        </>\r\n      )}\r\n    </Flex>\r\n  );\r\n}\r\n\r\nfunction Actions() {\r\n  const { id: guestId, name, buzzed } = useGuest();\r\n  const { mutate: buzz } = useBuzz();\r\n  return (\r\n    <>\r\n      <HStack px={4} py={1} spacing=\"-5px\">\r\n        <EditName id={guestId} name={name} />\r\n      </HStack>\r\n      <Box m={4} />\r\n      <Center>\r\n        <Button\r\n          colorScheme=\"pink\"\r\n          borderRadius=\"50%\"\r\n          h=\"150px\"\r\n          w=\"150px\"\r\n          isDisabled={!!buzzed}\r\n          onClick={() => {\r\n            buzz();\r\n            sound.play();\r\n          }}\r\n        >\r\n          Buzz!\r\n        </Button>\r\n      </Center>\r\n    </>\r\n  );\r\n}\r\n\r\nfunction EditName({ id, name }: { id: string; name: string }) {\r\n  const { isOpen, onOpen, onClose } = useDisclosure();\r\n  const initialRef = useRef() as React.MutableRefObject<HTMLInputElement>;\r\n  const { mutate: updateGuest } = useUpdateGuest(id);\r\n\r\n  const confirmEdit = async (e: any) => {\r\n    e.preventDefault();\r\n    const name = new FormData(e.target).get(\"name\")!;\r\n    updateGuest({ name });\r\n    onClose();\r\n  };\r\n\r\n  return (\r\n    <Button\r\n      colorScheme=\"pink\"\r\n      variant=\"ghost\"\r\n      rightIcon={<Icon as={AiFillEdit} />}\r\n      onClick={onOpen}\r\n    >\r\n      Name: {name}\r\n      <Modal isOpen={isOpen} onClose={onClose} initialFocusRef={initialRef}>\r\n        <ModalOverlay />\r\n        <ModalContent>\r\n          <form onSubmit={confirmEdit}>\r\n            <ModalHeader>Edit Name</ModalHeader>\r\n            <ModalCloseButton />\r\n            <ModalBody>\r\n              <FormControl>\r\n                <FormLabel>New name</FormLabel>\r\n                <Input name=\"name\" defaultValue={name} ref={initialRef} />\r\n              </FormControl>\r\n            </ModalBody>\r\n\r\n            <ModalFooter>\r\n              <Button variant=\"ghost\" onClick={onClose}>\r\n                Cancel\r\n              </Button>\r\n              <Button colorScheme=\"teal\" type=\"submit\">\r\n                Confirm\r\n              </Button>\r\n            </ModalFooter>\r\n          </form>\r\n        </ModalContent>\r\n      </Modal>\r\n    </Button>\r\n  );\r\n}\r\n","import { doc, serverTimestamp, updateDoc } from \"firebase/firestore\";\r\nimport { useMutation } from \"react-query\";\r\nimport { useFirestore } from \"reactfire\";\r\nimport useGuest from \"./useGuest\";\r\nimport useRoom from \"./useRoom\";\r\n\r\nexport default function useBuzz() {\r\n  const firestore = useFirestore();\r\n  const { id: roomId } = useRoom();\r\n  const { id: guestId } = useGuest();\r\n  const guestRef = doc(firestore, \"rooms\", roomId, \"guests\", guestId);\r\n  return useMutation(() => updateDoc(guestRef, { buzzed: serverTimestamp() }));\r\n}\r\n","import React, { useRef } from \"react\";\r\nimport { motion, AnimateSharedLayout } from \"framer-motion\";\r\nimport { AiOutlinePlusCircle } from \"react-icons/ai\";\r\nimport { List, ListItem } from \"@chakra-ui/layout\";\r\nimport {\r\n  Box,\r\n  Button,\r\n  Divider,\r\n  FormControl,\r\n  FormLabel,\r\n  Icon,\r\n  Modal,\r\n  ModalBody,\r\n  ModalCloseButton,\r\n  ModalContent,\r\n  ModalFooter,\r\n  ModalHeader,\r\n  ModalOverlay,\r\n  NumberInput,\r\n  NumberInputField,\r\n  SimpleGrid,\r\n  Text,\r\n  useDisclosure,\r\n  VStack,\r\n} from \"@chakra-ui/react\";\r\nimport { useUpdateGuest, useGuestList, useIsHost } from \"../hooks\";\r\n\r\nconst spring = { type: \"spring\", stiffness: 500, damping: 30 };\r\n\r\nexport default function GuestList() {\r\n  return (\r\n    <AnimateSharedLayout>\r\n      <SimpleGrid columns={2} spacing={2} px={4} overflowX=\"auto\">\r\n        <GuestWhoBuzzedList />\r\n        <GuestWhoDidNotBuzzList />\r\n      </SimpleGrid>\r\n    </AnimateSharedLayout>\r\n  );\r\n}\r\n\r\nfunction GuestWhoBuzzedList() {\r\n  const guestList = useGuestList();\r\n  const items = guestList\r\n    .filter(({ buzzed }) => !!buzzed)\r\n    .sort((a, b) => a.buzzed!.toMillis() - b.buzzed!.toMillis());\r\n\r\n  return (\r\n    <VStack alignItems=\"start\" overflowX=\"auto\">\r\n      <Text color=\"teal.500\" as=\"b\">\r\n        Buzzed\r\n      </Text>\r\n      <Divider />\r\n      <List spacing={3} overflowX=\"auto\" width=\"100%\">\r\n        {items.map(({ id, name, buzzed }, idx) => (\r\n          <motion.div key={id} layoutId={id} transition={spring}>\r\n            <ListItem>\r\n              <Text>{name}</Text>\r\n              <Box m={1} />\r\n              <Text p={1} fontSize=\"sm\" color=\"pink.500\">\r\n                {idx > 0\r\n                  ? `+${buzzed?.toMillis()! - items[0]!.buzzed!.toMillis()}  ms`\r\n                  : \"🏆\"}\r\n              </Text>\r\n            </ListItem>\r\n          </motion.div>\r\n        ))}\r\n      </List>\r\n    </VStack>\r\n  );\r\n}\r\n\r\nfunction GuestWhoDidNotBuzzList() {\r\n  const guestList = useGuestList();\r\n  const items = guestList\r\n    .filter(({ buzzed }) => !buzzed)\r\n    .sort((a, b) => b.score - a.score);\r\n\r\n  const isHost = useIsHost();\r\n\r\n  return (\r\n    <VStack alignItems=\"start\" overflowX=\"auto\">\r\n      <Text color=\"teal.500\" as=\"b\">\r\n        Not buzzed yet\r\n      </Text>\r\n      <Divider />\r\n      <List spacing={3} overflowX=\"auto\" width=\"100%\">\r\n        {items.map(({ id, name, score }) => (\r\n          <motion.div key={id} layoutId={id} transition={spring}>\r\n            <ListItem>\r\n              <Text>{name}</Text>\r\n              <Box m={1} />\r\n              {isHost ? (\r\n                <EditScore id={id} score={score} />\r\n              ) : (\r\n                <Text p={1} fontSize=\"sm\" color=\"pink.500\">\r\n                  {score === 1 ? \"1 point\" : `${score} points`}\r\n                </Text>\r\n              )}\r\n            </ListItem>\r\n          </motion.div>\r\n        ))}\r\n      </List>\r\n    </VStack>\r\n  );\r\n}\r\n\r\nfunction EditScore({ id, score }: { id: string; score: number }) {\r\n  const { isOpen, onOpen, onClose } = useDisclosure();\r\n  const initialRef = useRef() as React.MutableRefObject<HTMLInputElement>;\r\n  const { mutate: updateGuest } = useUpdateGuest(id);\r\n\r\n  const confirmEdit = async (e: any) => {\r\n    e.preventDefault();\r\n    const score = +new FormData(e.target).get(\"score\")!;\r\n    updateGuest({ score });\r\n    onClose();\r\n  };\r\n\r\n  return (\r\n    <Button\r\n      size=\"xs\"\r\n      rightIcon={<Icon as={AiOutlinePlusCircle} />}\r\n      colorScheme=\"pink\"\r\n      onClick={onOpen}\r\n    >\r\n      {score === 1 ? \"1 point\" : `${score} points`}\r\n      <Modal isOpen={isOpen} onClose={onClose} initialFocusRef={initialRef}>\r\n        <ModalOverlay />\r\n        <ModalContent>\r\n          <form onSubmit={confirmEdit}>\r\n            <ModalHeader>Edit Score</ModalHeader>\r\n            <ModalCloseButton />\r\n            <ModalBody>\r\n              <FormControl>\r\n                <FormLabel>New score</FormLabel>\r\n                <NumberInput name=\"score\" defaultValue={score} ref={initialRef}>\r\n                  <NumberInputField />\r\n                </NumberInput>\r\n              </FormControl>\r\n            </ModalBody>\r\n\r\n            <ModalFooter>\r\n              <Button variant=\"ghost\" onClick={onClose}>\r\n                Cancel\r\n              </Button>\r\n              <Button colorScheme=\"teal\" type=\"submit\">\r\n                Confirm\r\n              </Button>\r\n            </ModalFooter>\r\n          </form>\r\n        </ModalContent>\r\n      </Modal>\r\n    </Button>\r\n  );\r\n}\r\n","import React from \"react\";\r\nimport ReactDOM from \"react-dom\";\r\nimport { FirebaseAppProvider } from \"reactfire\";\r\nimport { App } from \"./ui\";\r\n\r\nconst firebaseConfig = {\r\n  apiKey: \"AIzaSyDb6-66w-lHx0tF3z9POa4NR6PZfUb5ExQ\",\r\n  authDomain: \"firebuzz-cf583.firebaseapp.com\",\r\n  projectId: \"firebuzz-cf583\",\r\n  storageBucket: \"firebuzz-cf583.appspot.com\",\r\n  messagingSenderId: \"1028563536658\",\r\n  appId: \"1:1028563536658:web:a133f1cef29d0206c341cb\",\r\n  measurementId: \"G-1XQYL5HPMW\",\r\n};\r\n\r\nconst rootElement = document.getElementById(\"root\");\r\nif (!rootElement) throw new Error(\"Failed to find the root element\");\r\n\r\nReactDOM.createRoot(rootElement).render(\r\n  <React.StrictMode>\r\n    <FirebaseAppProvider firebaseConfig={firebaseConfig} suspense>\r\n      <App />\r\n    </FirebaseAppProvider>\r\n  </React.StrictMode>\r\n);\r\n"],"sourceRoot":""}